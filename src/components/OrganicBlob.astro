---
/**
 * Organic Blob Component
 * Animated SVG blob for decorative backgrounds
 */
interface Props {
  color?: 'primary' | 'secondary' | 'purple';
  size?: 'sm' | 'md' | 'lg';
  blur?: 'light' | 'medium' | 'heavy';
  position?: 'top-right' | 'top-left' | 'bottom-right' | 'bottom-left' | 'center';
}

const { 
  color = 'primary', 
  size = 'md', 
  blur = 'medium',
  position = 'top-right' 
} = Astro.props;

const colorMap = {
  primary: 'rgba(255, 107, 53, 0.15)',
  secondary: 'rgba(74, 144, 226, 0.12)',
  purple: 'rgba(139, 92, 246, 0.12)',
};

const sizeMap = {
  sm: '400px',
  md: '600px',
  lg: '800px',
};

const blurMap = {
  light: '40px',
  medium: '60px',
  heavy: '80px',
};

const positionMap = {
  'top-right': { top: '-10%', right: '-10%', bottom: 'auto', left: 'auto' },
  'top-left': { top: '-10%', left: '-10%', bottom: 'auto', right: 'auto' },
  'bottom-right': { bottom: '-10%', right: '-10%', top: 'auto', left: 'auto' },
  'bottom-left': { bottom: '-10%', left: '-10%', top: 'auto', right: 'auto' },
  'center': { top: '50%', left: '50%', transform: 'translate(-50%, -50%)' },
};

const blobColor = colorMap[color];
const blobSize = sizeMap[size];
const blobBlur = blurMap[blur];
const blobPosition = positionMap[position];
---

<div class="organic-blob" style={`
  --blob-color: ${blobColor};
  --blob-size: ${blobSize};
  --blob-blur: ${blobBlur};
  ${Object.entries(blobPosition).map(([key, value]) => `${key}: ${value};`).join(' ')}
`}>
</div>

<style>
  .organic-blob {
    position: absolute;
    width: var(--blob-size);
    height: var(--blob-size);
    background: radial-gradient(circle, var(--blob-color), transparent 70%);
    border-radius: 40% 60% 70% 30% / 40% 50% 60% 50%;
    filter: blur(var(--blob-blur));
    animation: morph 8s ease-in-out infinite;
    z-index: 0;
    pointer-events: none;
  }

  @keyframes morph {
    0%, 100% { 
      border-radius: 40% 60% 70% 30% / 40% 50% 60% 50%;
      transform: rotate(0deg);
    }
    50% { 
      border-radius: 54% 46% 38% 62% / 49% 70% 30% 51%;
      transform: rotate(5deg);
    }
  }
</style>
